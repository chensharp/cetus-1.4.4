<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Sun Jan 21 16:17:36 CST 2018 -->
<title>ProfitableOMP</title>
<meta name="date" content="2018-01-21">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ProfitableOMP";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../cetus/codegen/ompGen.html" title="class in cetus.codegen"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../index.html?cetus/codegen/ProfitableOMP.html" target="_top">Frames</a></li>
<li><a href="ProfitableOMP.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_cetus.codegen.CodeGenPass">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">cetus.codegen</div>
<h2 title="Class ProfitableOMP" class="title">Class ProfitableOMP</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../cetus/codegen/CodeGenPass.html" title="class in cetus.codegen">cetus.codegen.CodeGenPass</a></li>
<li>
<ul class="inheritance">
<li>cetus.codegen.ProfitableOMP</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">ProfitableOMP</span>
extends <a href="../../cetus/codegen/CodeGenPass.html" title="class in cetus.codegen">CodeGenPass</a></pre>
<div class="block">This pass performs postprocessing of programs parallelized with OpenMP.
 Two methods, one with simple performance model and the other with guiding
 profiler, are provided. Both methods make use of "if" clause provided by
 the OpenMP specification.
 <p>
 <b>Model-based approach (starts with -profitable-omp=1)</b><br>
 Symbolically computes the workload of each loop by counting loop iteration
 and the child statements. If the workload is smaller than the given
 threshold, it is serialized either at compile-time (if the workload is
 integer literal) or at run-time (through OpenMP if clause).
 Following sub options are allowed through command line:
 <pre>
     threshold=N  the threshold for serialization
     costwhile=N  the iteration count for while-like loops
     costfcall=N  the workload of a function call
     runtime=0|1  when this value is zero OpenMP if clause is avoided
   e.g., -profitable-omp=1:threshold=10000,costwhile=100,costfcall=100
 </pre>
 </p>
 <p>
 <b>Profile-based approach (starts with -profitable-omp=2)</b><br>
 This approach assumes the workload of a parallel loop does not change over
 multiple invocations of the loop. The basic idea is to use profiled
 runtime of a sequential execution and a parallel execution of a parallel
 loop and to decide whether the loop should be executed in parallel after
 the profiling. A parallel loop is executed in three different phases:
 <pre>
     grace phase  : the loop is executed in parallel
     profile phase: the loop is profiled several times both in serial and
                    in parallel
     stable phase : the loop is executed either in serial or in parallel
                    based on the profiled information
 </pre>
     Users can vary the behavior of each phase by specifying the following sub
     options:
 <pre>
     grace=N   : the length of grace phase (# invocations)
     repeat=N  : the number of profiled invocations in serial/parallel
     interval=N: the interval between successive profiling within the
                 profile phase
     usmin=N   : threshold for eager serialization without profiling in
                 micro seconds 
   e.g., -profitable-omp=2:grace=50,repeat=5,interval=10,usmin=10
 </pre>
 </p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_cetus.codegen.CodeGenPass">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;cetus.codegen.<a href="../../cetus/codegen/CodeGenPass.html" title="class in cetus.codegen">CodeGenPass</a></h3>
<code><a href="../../cetus/codegen/CodeGenPass.html#program">program</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../cetus/codegen/ProfitableOMP.html#ProfitableOMP(cetus.hir.Program)">ProfitableOMP</a></strong>(<a href="../../cetus/hir/Program.html" title="class in cetus.hir">Program</a>&nbsp;program)</code>
<div class="block">Constructs a new profitable code generator for OpenMP programs.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../cetus/codegen/ProfitableOMP.html#getPassName()">getPassName</a></strong>()</code>
<div class="block">Returns the name of this code generation pass.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../cetus/codegen/ProfitableOMP.html#start()">start</a></strong>()</code>
<div class="block">Starts the code generation for profitable loop parallelization.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_cetus.codegen.CodeGenPass">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;cetus.codegen.<a href="../../cetus/codegen/CodeGenPass.html" title="class in cetus.codegen">CodeGenPass</a></h3>
<code><a href="../../cetus/codegen/CodeGenPass.html#run(cetus.codegen.CodeGenPass)">run</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ProfitableOMP(cetus.hir.Program)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ProfitableOMP</h4>
<pre>public&nbsp;ProfitableOMP(<a href="../../cetus/hir/Program.html" title="class in cetus.hir">Program</a>&nbsp;program)</pre>
<div class="block">Constructs a new profitable code generator for OpenMP programs.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>program</code> - the program to be processed.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getPassName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPassName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getPassName()</pre>
<div class="block">Returns the name of this code generation pass.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../cetus/codegen/CodeGenPass.html#getPassName()">getPassName</a></code>&nbsp;in class&nbsp;<code><a href="../../cetus/codegen/CodeGenPass.html" title="class in cetus.codegen">CodeGenPass</a></code></dd>
</dl>
</li>
</ul>
<a name="start()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>start</h4>
<pre>public&nbsp;void&nbsp;start()</pre>
<div class="block">Starts the code generation for profitable loop parallelization.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../cetus/codegen/CodeGenPass.html#start()">start</a></code>&nbsp;in class&nbsp;<code><a href="../../cetus/codegen/CodeGenPass.html" title="class in cetus.codegen">CodeGenPass</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../cetus/codegen/ompGen.html" title="class in cetus.codegen"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../index.html?cetus/codegen/ProfitableOMP.html" target="_top">Frames</a></li>
<li><a href="ProfitableOMP.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_cetus.codegen.CodeGenPass">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
