<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_79) on Sun Jan 21 16:17:30 CST 2018 -->
<title>ArrayPrivatization</title>
<meta name="date" content="2018-01-21">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ArrayPrivatization";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../cetus/analysis/ArrayParameterAnalysis.Option.html" title="enum in cetus.analysis"><span class="strong">Prev Class</span></a></li>
<li><a href="../../cetus/analysis/BanerjeeTest.html" title="class in cetus.analysis"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?cetus/analysis/ArrayPrivatization.html" target="_top">Frames</a></li>
<li><a href="ArrayPrivatization.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_cetus.analysis.AnalysisPass">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">cetus.analysis</div>
<h2 title="Class ArrayPrivatization" class="title">Class ArrayPrivatization</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../cetus/analysis/AnalysisPass.html" title="class in cetus.analysis">cetus.analysis.AnalysisPass</a></li>
<li>
<ul class="inheritance">
<li>cetus.analysis.ArrayPrivatization</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">ArrayPrivatization</span>
extends <a href="../../cetus/analysis/AnalysisPass.html" title="class in cetus.analysis">AnalysisPass</a></pre>
<div class="block">ArrayPrivatization performs privatization analysis of the program. It tries
 to find privatizable variables (scalars and arrays) which are written first
 then read in a loop body.
 The high-level algorithm in below describes the process of detecting
 privatizable variables, both scalars and array sections, in a loop. The set
 operations that appear in the algorithm are performed on the array sections
 if the variable is an array. We use the power of symbolic analysis
 techniques in Cetus to make the symbolic section operation possible. For
 example, <code>[1:m] (intersect) [1:n]</code> results in <code>[1:n]</code>
 if the expression comparison tool with the value range set can decide
 <code>n</code> is less than or equal to <code>m</code>.
 <p>
 The algorithm traverses a loop nest from the innermost to the outermost loop.
 At each level, it first collects <code>definitions</code> (write references)
 and <code>uses</code> (read references) in the loop body. Uses that are
 covered by prior definitions create privatizable variables (or array
 sections) for the current loop. The other uses are
 <code>upward exposed</code>, creating read
 references seen in the outer loop. Second, the algorithm aggregates all
 these array sections over the loop iteration space, creating the array
 sections that are private, written and upward exposed for the entire loop.
 The aggregation for the written sections (<code>DEF</code>) computes the
 must-defined regular sections of the arrays over the entire loop iteration
 while the aggregation of upward-exposed sections (<code>UEU</code>) requires
 only the conservative value ranges of the sections (may-used sections). This
 algorithm is a slightly simpler version of the one used in the Polaris
 parallelizing compiler for Fortran77 programs.
 <pre>
 procedure Privatization(L)

   Input : Loop L
   Output: DEF[L], UEU[L], PRI[L]
   // DEF: Definded set
   // USE: Used set
   // UEU: Upward-exposed set
   // PRI: Private variables
   // (^): intersection, (v): union

   foreach direct inner loop L' in L
     (DEF[L'],USE[L']) = Privatization(L')

   G(N,E) = BuildCFG(L)
   // BuildCFG builds a CFG with the inner loops represented as super nodes

   Iteratively solve data flow equation DEF for node n in N
     DEFin[n] = (^) {DEFout[p], p in predecessors of n}
     DEFout[n] = (DEFin[n]-KILL[n]) (v) DEF[n]

   DEF[L] = {}
   UEU[L] = {}
   PRI[L] = CollectCandidates(L)
   // CollectCandidates collects variables that satisfies the following:
   // 1. It has write access in the loop body.
   // 2. Its subscript do not contain loop-variant variables.

   foreach loop-exiting node e in N
     DEF[L] = DEF[L] (^) DEFout[e]

   foreach node n in N
     UEU[L] = UEU[L] (v) (USE[n]-DEFin[n])

   foreach variable v in UEU[L]
     PRI[L] = PRI[L]-{v}

   DEF[L] = AggregateDEF(DEF[L])
   UEU[L] = AggregateUSE(UEU[L])
   // AggregateDEF aggregates array sections in DEF (MUST set)
   // AggregateUSE aggregates array sections in USE (MAY set)

   return (DEF[L], UEU[L])

 end
 </pre>
 Array privatization is invoked by specifying the flag
 <code>-privatize</code>,
 and the result is stored as an annotation that contains the set of private
 variables. We do not consider a variable with user-defined type as a
 candidate private variable, but intend to widen the scope of the analysis
 in the future.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_cetus.analysis.AnalysisPass">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;cetus.analysis.<a href="../../cetus/analysis/AnalysisPass.html" title="class in cetus.analysis">AnalysisPass</a></h3>
<code><a href="../../cetus/analysis/AnalysisPass.html#program">program</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../cetus/analysis/ArrayPrivatization.html#ArrayPrivatization(cetus.hir.Program)">ArrayPrivatization</a></strong>(<a href="../../cetus/hir/Program.html" title="class in cetus.hir">Program</a>&nbsp;program)</code>
<div class="block">Constructs an array privatization analyzer for a program.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../cetus/analysis/ArrayPrivatization.html#analyzeProcedure(cetus.hir.Procedure)">analyzeProcedure</a></strong>(<a href="../../cetus/hir/Procedure.html" title="class in cetus.hir">Procedure</a>&nbsp;proc)</code>
<div class="block">Starts array privatization for a procedure.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../cetus/analysis/ArrayPrivatization.html#getPassName()">getPassName</a></strong>()</code>
<div class="block">Returns the pass name.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../cetus/analysis/ArrayPrivatization.html#start()">start</a></strong>()</code>
<div class="block">Starts array privatization by calling the procedure-level driver for each
 procedure within the program.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_cetus.analysis.AnalysisPass">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;cetus.analysis.<a href="../../cetus/analysis/AnalysisPass.html" title="class in cetus.analysis">AnalysisPass</a></h3>
<code><a href="../../cetus/analysis/AnalysisPass.html#run(cetus.analysis.AnalysisPass)">run</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ArrayPrivatization(cetus.hir.Program)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ArrayPrivatization</h4>
<pre>public&nbsp;ArrayPrivatization(<a href="../../cetus/hir/Program.html" title="class in cetus.hir">Program</a>&nbsp;program)</pre>
<div class="block">Constructs an array privatization analyzer for a program.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>program</code> - the input program.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getPassName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPassName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getPassName()</pre>
<div class="block">Returns the pass name.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../cetus/analysis/AnalysisPass.html#getPassName()">getPassName</a></code>&nbsp;in class&nbsp;<code><a href="../../cetus/analysis/AnalysisPass.html" title="class in cetus.analysis">AnalysisPass</a></code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the pass name in string.</dd></dl>
</li>
</ul>
<a name="start()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre>public&nbsp;void&nbsp;start()</pre>
<div class="block">Starts array privatization by calling the procedure-level driver for each
 procedure within the program.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../cetus/analysis/AnalysisPass.html#start()">start</a></code>&nbsp;in class&nbsp;<code><a href="../../cetus/analysis/AnalysisPass.html" title="class in cetus.analysis">AnalysisPass</a></code></dd>
</dl>
</li>
</ul>
<a name="analyzeProcedure(cetus.hir.Procedure)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>analyzeProcedure</h4>
<pre>public&nbsp;void&nbsp;analyzeProcedure(<a href="../../cetus/hir/Procedure.html" title="class in cetus.hir">Procedure</a>&nbsp;proc)</pre>
<div class="block">Starts array privatization for a procedure. It first computes the range
 map of the procedure to enable subsequent symbolic operations, then
 calls <a href="../../cetus/analysis/ArrayPrivatization.html#analyzeLoop(cetus.hir.Loop)"><code>analyzeLoop(Loop)</code></a> to analyze the outer-most loops in the
 procedure. The final step is to annotate the analysis result for each
 loop in the procedure.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>proc</code> - the input procedure.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../cetus/analysis/ArrayParameterAnalysis.Option.html" title="enum in cetus.analysis"><span class="strong">Prev Class</span></a></li>
<li><a href="../../cetus/analysis/BanerjeeTest.html" title="class in cetus.analysis"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?cetus/analysis/ArrayPrivatization.html" target="_top">Frames</a></li>
<li><a href="ArrayPrivatization.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_cetus.analysis.AnalysisPass">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
